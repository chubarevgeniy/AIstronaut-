# Unity Project Setup Guide

This folder contains the source code for the Unity port of the game. Since binary files like Scenes and ProjectSettings are not generated by the AI, you must set up the project manually in the Unity Editor once.

## Prerequisites
- Unity 2022.3.20f1 (LTS) or compatible.
- Android Build Support module installed.

## Setup Steps

1.  **Open Project**:
    - Open Unity Hub.
    - Click "Add" and select the `unity_project` folder.
    - Wait for Unity to import assets and generate the Library.

2.  **Scene Setup**:
    - Create a new 2D Scene named `Game`.
    - **Camera**: Set `Orthographic Size` to `300` (to match the web version's scale where 1 unit = 1 pixel). Set Background to Black.
    - attach `Visuals/CameraFollow.cs` to the Main Camera.

3.  **Managers**:
    - Create an Empty GameObject named `GameManager`.
        - Attach `Core/GameManager.cs`.
    - Create an Empty GameObject named `InputManager`.
        - Attach `Input/InputManager.cs`.
    - Create an Empty GameObject named `LevelGenerator`.
        - Attach `Systems/LevelGenerator.cs`.
    - Create an Empty GameObject named `ShapeGenerator`.
        - Attach `Visuals/ShapeGenerator.cs`.
        - Assign a default material (Sprite-Default) to the script.
    - Create an Empty GameObject named `Starfield`.
        - Attach `Visuals/Starfield.cs`.
    - Create an Empty GameObject named `AudioManager`.
        - Attach `Systems/AudioManager.cs`.
        - Add three `AudioSource` components. Assign them to `MusicSource`, `EngineSource`, `SfxSource` fields.
        - **Audio Clips**: Drag your audio files (wav/mp3) to the `AudioManager` slots (`MusicClip`, `EngineClip`, etc.). If you don't have audio files, the game will run silently but log errors if expected clips are missing.

4.  **Player (Ship)**:
    - Create an Empty GameObject named `Ship`.
    - Attach `Entities/ShipController.cs`.
    - **Visuals**: No need to attach SpriteRenderers manually; `ShapeGenerator` will create the mesh at runtime.
    - Assign the `Ship` transform to the `CameraFollow` script on the Camera.

5.  **UI Setup**:
    - Create a Canvas (Scale Mode: Scale With Screen Size, Ref Res: 1920x1080).
    - **Panels**: Create Panels for Start, Pause, GameOver, HUD.
    - **UIManager**:
        - Create an Empty GameObject `UIManager`.
        - Attach `UI/UIManager.cs`.
        - Drag the Panels to the script slots.
        - Create Buttons inside Panels and link their OnClick events to `UIManager` methods (e.g., `OnStartSurvival`, `OnResume`).
    - **HUD**:
        - Create an Empty GameObject `HUDController` inside the HUD Panel.
        - Attach `UI/HUDController.cs`.
        - Create a Text element for Altitude and assign it.
        - Create a Panel/LayoutGroup for Fuel Dots and assign it.
        - Create an Image for the Nearest Indicator Arrow and assign it.
        - Create a prefab for a single Fuel Dot (Image) and assign it.

6.  **Build Settings**:
    - Go to File > Build Settings.
    - Add the `Game` scene.
    - Switch Platform to Android.
    - Set Player Settings > Bundle Identifier (e.g., `com.yourname.aistronaut`).

7.  **CI/CD**:
    - Commit the changes (including the generated `.unity` and `.meta` files).
    - Set up GitHub Secrets: `UNITY_LICENSE`, `UNITY_EMAIL`, `UNITY_PASSWORD`, and Android Keystore secrets.
    - **Important**: The CI pipeline will fail if the `unity_project/ProjectSettings` folder is missing. You MUST open the project in Unity at least once to generate these files before pushing to GitHub.

## Notes
- The `GameConfig.cs` is auto-generated from `game_config.json`. Do not edit it manually; update the JSON and run `npm run generate-config`.
